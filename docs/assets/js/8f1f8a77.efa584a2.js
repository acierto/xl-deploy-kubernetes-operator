"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[233],{7370:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var o=n(7462),a=n(3366),i=(n(7294),n(3905)),r=["components"],s={sidebar_position:2},l="AWS OpenShift",p={unversionedId:"manual/openshift",id:"manual/openshift",isDocsHomePage:!1,title:"AWS OpenShift",description:"Here it will described how to install manually Deploy k8s cluster with help of operator to Open Shift.",source:"@site/docs/manual/openshift.md",sourceDirName:"manual",slug:"/manual/openshift",permalink:"/xl-deploy-kubernetes-operator/docs/manual/openshift",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"On Premises",permalink:"/xl-deploy-kubernetes-operator/docs/manual/onprem"}},c=[],u={toc:c};function d(e){var t=e.components,s=(0,a.Z)(e,r);return(0,i.kt)("wrapper",(0,o.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"aws-openshift"},"AWS OpenShift"),(0,i.kt)("p",null,"Here it will described how to install manually Deploy k8s cluster with help of operator to Open Shift.\nAs a tool to work with is taken AWS OpenShift."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"First of all you should configure your ",(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html"},"AWS CLI locally")),(0,i.kt)("li",{parentName:"ul"},"Create an account in RedHat and follow the procedure of installing ROSA ",(0,i.kt)("a",{parentName:"li",href:"https://docs.openshift.com/rosa/rosa_getting_started/rosa-installing-rosa.html"},"https://docs.openshift.com/rosa/rosa_getting_started/rosa-installing-rosa.html")),(0,i.kt)("li",{parentName:"ul"},"Once it is done, it's very important to ",(0,i.kt)("a",{parentName:"li",href:"https://docs.openshift.com/rosa/rosa_getting_started/rosa-config-identity-providers.html"},"configure IdP (identity provider)")," in order to be able to access the cluster via ",(0,i.kt)("inlineCode",{parentName:"li"},"serverURL")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"token"),".\nThese 2 parameters are used in Deploy to have a communication with OpenShift cluster.",(0,i.kt)("br",{parentName:"li"}),"If it was configured correctly this command will succeed:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"oc login\xa0--token=TOKEN\xa0--server=SERVER_URL\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"SERVER_URL")," you can find the next way."),(0,i.kt)("p",null,"First find the cluster's console URL in the output of command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"rosa describe cluster --cluster=CLUSTER_NAME\n")),(0,i.kt)("p",null,"When you open it, you will see on ",(0,i.kt)("inlineCode",{parentName:"p"},"Cluster")," tab your new created cluster\n",(0,i.kt)("img",{alt:"Openshift Clusters",src:n(2556).Z})),(0,i.kt)("p",null,"Click on it, and open ",(0,i.kt)("inlineCode",{parentName:"p"},"Networking")," tab\n",(0,i.kt)("img",{alt:"Openshift Networking",src:n(5138).Z}),"."),(0,i.kt)("p",null,'"Control Plane API endpoint" is your SERVER_URL.\n"Default application router" you have to use in ',(0,i.kt)("inlineCode",{parentName:"p"},"DigitalaiDeployOcp")," to speicfy the ",(0,i.kt)("inlineCode",{parentName:"p"},"hosts")," field.\nOnly be aware that it should have only hostname, no protocol or port defined. So for this example it will be"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"hosts:\n    - apps.acierto.lnfl.p1.openshiftapps.com\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Also very important thing, when IdP is created, you have to create a user with the same name. You can find it here:\n",(0,i.kt)("img",{alt:"OpenShift Access Control",src:n(2171).Z}))),(0,i.kt)("p",null,"When all configuration is done, and you deployed the Operator, you can interact with the cluster with help of ",(0,i.kt)("inlineCode",{parentName:"p"},"oc"),".\nJust instead of ",(0,i.kt)("inlineCode",{parentName:"p"},"kubectl")," will be ",(0,i.kt)("inlineCode",{parentName:"p"},"oc"),"."))}d.isMDXComponent=!0},2171:function(e,t,n){t.Z=n.p+"assets/images/openshift-access-control-18eb709f850049521a99563fb519525e.png"},2556:function(e,t,n){t.Z=n.p+"assets/images/openshift-clusters-d90ff2979f324bce845b395ba243094d.png"},5138:function(e,t,n){t.Z=n.p+"assets/images/openshift-networking-d5709f0f6fe57bc2c8fd9d5b9ceced9c.png"}}]);